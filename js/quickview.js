!function(e){function t(i){e(i).addClass("active")}function a(i){e(i).removeClass("active")}function r(){e(".qtyplus").click((function(i){var t=e(this).attr("data-field"),a=parseInt(e("input[name="+t+"]").val());isNaN(a)?e("input[name="+t+"]").val(1):e("input[name="+t+"]").val(a+1),i.preventDefault()})),e(".qtyminus").click((function(i){var t=e(this).attr("data-field"),a=parseInt(e("input[name="+t+"]").val());!isNaN(a)&&a>1?e("input[name="+t+"]").val(a-1):e("input[name="+t+"]").val(1),i.preventDefault()}))}function n(i,r,n,o){e.ajax({type:"post",url:"/cart/add.js",data:"quantity="+r+"&id="+i,dataType:"json",beforeSend:function(){t(".loading")},success:function(i){e(".tshopify-popup").removeClass("active"),a(".quickview-product"),Shopify.getCart((function(i){!function(i){var t=e(".enj-minicart-ajax");if(t.empty(),0===i.item_count)return t.append("<p>Your cart is currently empty.</p>"),void cartCallback(i);var a=[],r={},n={},o=e("#CartTemplate").html(),c=Handlebars.compile(o);e.each(i.items,(function(e,i){if(null!=i.image)var t=i.image.replace(/(\.[^.]*)$/,"_small$1").replace("http:","");else t="//cdn.shopify.com/s/assets/admin/no-image-medium-cc9732cb976dd349a0df1d39816fbcc7.gif";r={id:i.variant_id,line:e+1,url:i.url,img:t,name:i.product_title,variation:i.variant_title,properties:i.properties,itemAdd:i.quantity+1,itemMinus:i.quantity-1,itemQty:i.quantity,price:Shopify.formatMoney(i.price,ajaxCartConfig.moneyFormat),vendor:i.vendor},a.push(r)})),n={items:a,note:i.note,totalPrice:Shopify.formatMoney(i.total_price,ajaxCartConfig.moneyFormat)},t.append(c(n)),e(".enj-cartcount").html(i.item_count),e("body").removeClass("drawer--is-loading"),e("body").trigger("ajaxCart.afterCartLoad",i)}(i)}))},error:function(i,r){a(".loading"),e(".error-message").text(e.parseJSON(i.responseText).description),t(".error-popup")}})}function o(e){return e.toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function c(){e(".engoj_btn_quickview").click((function(){t(".loading");var i=e(this).data("id");return Shopify.getProduct(i,(function(i){var t=e("#quick-view").html();e(".quickview-product").html(t);var a=e(".quickview-product");if(a.find(".rating").append('<span class="shopify-product-reviews-badge" data-id="'+i.id+'"></span>'),e.getScript(window.location.protocol+"//productreviews.shopifycdn.com/assets/v4/spr.js"),a.find(".product-title a").html(i.title).attr("href",i.url),a.find(".product-cate").html(i.type),a.find(".product-desc").length>0){var n=i.description.replace(/(<([^>]+)>)/gi,"");n=n.split(" ").splice(0,20).join(" ")+"...",a.find(".product-desc").text(n)}else a.find(".product-desc").remove();a.find(".price").html(Shopify.formatMoney(i.price,window.money_format)),a.find(".product-inner").attr("id","product-"+i.id),a.find(".variants").attr("id","product-actions-"+i.id),a.find(".variants select").attr("id","product-select-"+i.id),i.compare_at_price>i.price?(a.find(".compare-price").html(Shopify.formatMoney(currencyConverter(i.compare_at_price_max),window.money_format)).show(),a.find(".price").addClass("on-sale")):(a.find(".compare-price").html(""),a.find(".price").removeClass("on-sale")),i.available?(a.find(".total-price span").html(Shopify.formatMoney(currencyConverter(i.price),window.money_format)),d.createQuickViewVariantsSwatch(i,a)):(a.find("select, input, .total-price, .dec, .inc, .variants label, .quantity-all, .e-quantity").remove(),a.find(".btn-addToCart").parent().addClass("no-qtt").removeClass("btn-gradient"),a.find(".btn-addToCart").text("Out of stock").addClass("btn-outofstock").attr("disabled","disabled")),r(),d.quickViewSlider(i,a),d.initQuickviewAddToCart(),e(".quickview-product").addClass("active"),e(".loading").addClass("loaded-content"),e(".quickview-product .total-price").length>0&&(e(".quickview-product button[class=js-plus]").on("click",d.updatePricingQuickview),e(".quickview-product button[class=js-minus]").on("click",d.updatePricingQuickview))})),!1}))}window.showPopup=t,window.qtyProduct=r,window.doAjaxAddToCart=n,window.convertToSlug=o,e(document).ready((function(){c()})),e(document).on("click"," .overlay,.continue-shopping, .close-window",(function(){return a(".tshopify-popup"),setTimeout((function(){e(".loading").removeClass("loaded-content")}),500),!1})),window.quickView=c;var d={selectCallbackQuickview:function(i,t){var a=jQuery(".quickview-product .product-item"),r=a.find(".btn-addToCart"),n=a.find(".price"),o=a.find(".compare-price"),c=a.find(".total-price span");if(i&&i.featured_image){var d=jQuery(".engoj_img_main_quickview"),s=i.featured_image,l=d[0];Shopify.Image.switchImage(s,l,(function(i,t,a){e(a).attr("src",i)}))}if(i){i.available?r.removeClass("disabled").removeAttr("disabled").text("translation missing: en.products.product.add_to_cart"):r.val("sold_out").addClass("disabled").attr("disabled","disabled"),n.html(Shopify.formatMoney(currencyConverter(i.price),window.money_format)),i.compare_at_price>i.price?(o.html(Shopify.formatMoney(currencyConverter(i.compare_at_price),window.money_format)).show(),n.addClass("on-sale")):(o.hide(),n.removeClass("on-sale"));for(var p=jQuery("#"+t.domIdPrefix).closest("form"),u=0,v=i.options.length;u<v;u++){var f=p.find('.swatch[data-option-index="'+u+'"] :radio[value="'+i.options[u]+'"]');f.size()&&(f.get(0).checked=!0)}var m=a.find(".product-inventory span");i.available?null!=i.inventory_management?m.text(i.inventory_quantity+" in_stock"):m.text("many_in_stock"):m.text("out_of_stock");var w=/([0-9]+[.|,][0-9]+[.|,][0-9]+)/g,h=e(".quickview-product .price").text().match(w);if(h||(w=/([0-9]+[.|,][0-9]+)/g,h=e(".quickview-product .price").text().match(w)),h){var g=h[0];c=g.replace(/[.|,]/g,"")*parseInt(e(".quickview-product input[name=quantity]").val());c=currencyConverter(c);var y=Shopify.formatMoney(c,window.money_format);w=/([0-9]+[.|,][0-9]+[.|,][0-9]+)/g,y.match(w)||(w=/([0-9]+[.|,][0-9]+)/g),y=y.match(w)[0];var k=new RegExp(g,"g"),b=e(".quickview-product .price").html().replace(k,y);e(".quickview-product .total-price span").html(b)}if(i&&i.featured_image)s=(s=Shopify.resizeImage(i.featured_image.src,"small")).replace(/https?:/,""),jQuery(".quick-view .quickview-more-views img").each((function(){if(jQuery(this).attr("src")==s)return jQuery(this).parent().trigger("click"),!1}))}else r.text("unavailable").addClass("disabled").attr("disabled","disabled");Currency.convertAll(shopCurrency,jQuery("#currencies a.selected").attr("data-currency")),jQuery(".selected-currency").text(Currency.currentCurrency)},createQuickViewVariantsSwatch:function(i,t){if(i.variants.length>1){for(var a=0;a<i.variants.length;a++){var r='<option value="'+(l=i.variants[a]).id+'">'+l.title+"</option>";t.find("form.variants > select").append(r)}new Shopify.OptionSelectors("product-select-"+i.id,{product:i,onVariantSelected:this.selectCallbackQuickview,enableHistoryState:!0});window.file_url.substring(0,window.file_url.lastIndexOf("?")),window.asset_url.substring(0,window.asset_url.lastIndexOf("?"));var n="";for(a=0;a<i.options.length;a++){n+='<div class="swatch flex align-center clearfix" data-option-index="'+a+'">',n+='<div class="header">'+i.options[a].name+"</div>";var c=!1;/Color|Colour/i.test(i.options[a].name)&&(c=!0);for(var d=new Array,s=0;s<i.variants.length;s++){var l,p=(l=i.variants[s]).options[a],u=o(p),v="swatch-"+a+"_"+u;d.indexOf(p)<0&&(n+='<div data-value="'+p+'" class="swatch-element '+(c?"color":"")+u+(l.available?" available ":" soldout ")+'">',c&&(n+='<div class="tooltip">'+p+"</div>"),n+='<input id="'+v+'" type="radio" name="option-'+a+'" value="'+p+'" '+(0==s?" checked ":"")+(l.available?"":" disabled")+" />",n+=c?'<label for="'+v+'" style="background-color: '+u+';"></label>':'<label for="'+v+'">'+p+"</label>",n+="</div>",l.available&&e('.quickview-product .swatch[data-option-index="'+a+'"] .'+u).removeClass("soldout").addClass("available").find(":radio").removeAttr("disabled"),d.push(p))}n+="</div>"}t.find("form.variants > select").after(n),t.find(".swatch :radio").change((function(){var i=e(this).closest(".swatch").attr("data-option-index"),t=e(this).val();e(this).closest("form").find(".single-option-selector").eq(i).val(t).trigger("change")})),i.available&&i.options.size>1&&(Shopify.optionsMap={},Shopify.linkOptionSelectors(i))}else{t.find("form.variants > select").remove();var f='<input type="hidden" name="id" value="'+i.variants[0].id+'">';t.find("form.variants").append(f)}},createQuickViewVariants:function(i,t){if(i.variants.length>1){for(var a=0;a<i.variants.length;a++){var r=i.variants[a],n='<option value="'+r.id+'">'+r.title+"</option>";t.find("form.variants > select").append(n)}new Shopify.OptionSelectors("product-select-"+i.id,{product:i,onVariantSelected:this.selectCallbackQuickview,enableHistoryState:!0}),e(".quickview-product .selectize-input input").attr("disabled","disabled"),1==i.options.length&&e(".selector-wrapper:eq(0)").prepend("<label>"+i.options[0].name+"</label>"),t.find("form.variants .selector-wrapper label").each((function(t,a){e(this).html(i.options[t].name)}))}else{t.find("form.variants > select").remove();var o='<input type="hidden" name="id" value="'+i.variants[0].id+'">';t.find("form.variants").append(o)}},quickViewSlider:function(t,a){var r=Shopify.resizeImage(t.featured_image,"grande");if(a.find(".js-quickview-slide").append('<a title="'+t.title+'" class="product-photo" href="'+t.url+'"><img class="engoj_img_main_quickview" src="'+r+'" alt="'+t.title+'"/><span class="loading" style="height: 100%; width: 100%; top:0; left:0 z-index: 999; position: absolute; display: none; background: url('+window.loading_url+') center no-repeat;"></span></a>'),e(".js-quickview-slide").not(".slick-initialized").slick({autoplay:!1,slidesToShow:1,slidesToScroll:1,infinite:!0,arrows:!0,prevArrow:'<span class="prev"><i class="fa fa-angle-left" aria-hidden="true"></i></span>',nextArrow:'<span class="next"><i class="fa fa-angle-right" aria-hidden="true"></i></span>',dots:!0}),e(".js-quickview-slide").on("dragstart","img",(function(){return!1})),t.images.length>2){var n=a.find(".js-quickview-slide");for(i in t.images){var o='<div class="item"><a href="javascript:void(0)" data-image="'+Shopify.resizeImage(t.images[i],"grande")+'"><img src="'+Shopify.resizeImage(t.images[i],"compact")+'"  /></a></div>';n.not(".slick-initialized").slick("slickAdd",o)}n.find("a").click((function(){var i=a.find(".featured-image img"),t=a.find(".featured-image .loading");i.attr("src")!=e(this).attr("data-image")&&(i.attr("src",e(this).attr("data-image")),t.show(),i.load((function(i){t.hide(),e(this).unbind("load"),t.hide()})))}))}else a.find(".more-views").remove();e(document).on("click",".continue-shopping .close-window .btn-addToCart",(function(){e(".js-quickview-slide").length&&e(".js-quickview-slide").slick("unslick")}))},initQuickviewAddToCart:function(){e(".quickview-product .btn-addToCart").length>0&&e(".quickview-product .btn-addToCart").click((function(){var i=e(".quickview-product select[name=id]").val();i||(i=e(".quickview-product input[name=id]").val());var t=e(".quickview-product input[name=quantity]").val();t||(t=1);e(".quickview-product .product-title a").html(),e(".quickview-product .featured-image img").attr("src");n(i,t)}))},updatePricingQuickview:function(){var i=/([0-9]+[.|,][0-9]+[.|,][0-9]+)/g,t=e(".js-price-wrapper .price").text().match(i);if(t||(i=/([0-9]+[.|,][0-9]+)/g,t=e(".js-price-wrapper .price").text().match(i)),t){var a=t[0],r=a.replace(/[.|,]/g,"")*parseInt(e(".js-price-wrapper input[name=quantity]").val()),n=Shopify.formatMoney(r,window.money_format);i=/([0-9]+[.|,][0-9]+[.|,][0-9]+)/g,n.match(i)||(i=/([0-9]+[.|,][0-9]+)/g),n=n.match(i)[0];var o=new RegExp(a,"g"),c=e(".js-price-wrapper .price").html().replace(o,n);e(".js-price-wrapper .total-price span").html(c)}}}}(jQuery);